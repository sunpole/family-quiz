# family-quiz

Q&A system for family use with user roles and data storage in Google Sheets via SheetDB API.

---

## English

### What is this project?

**family-quiz** is a simple Q&A web app to organize fun quiz games or surveys for families, classes, or small communities.  
All questions, answers, ratings, and user accounts are stored in a Google Spreadsheet via a free SheetDB API.

### Key Features

- User roles: guest, user, admin
- User registration/authorization
- Add and answer questions
- Rate answers
- Google Sheets as backend (all data is editable in the spreadsheet)
- 100% static: deploy on GitHub Pages, Netlify, Vercel, etc.

### Project Links

- **SheetDB API Endpoint:**  
  [https://sheetdb.io/api/v1/jmjjg8jhv0yvi](https://sheetdb.io/api/v1/jmjjg8jhv0yvi)
- **Google Spreadsheet:**  
  [https://docs.google.com/spreadsheets/d/1S9nJ_rhan9L88bxMi6wRUip2xr7r0eraZ5nacRFfgUE/edit?usp=sharing](https://docs.google.com/spreadsheets/d/1S9nJ_rhan9L88bxMi6wRUip2xr7r0eraZ5nacRFfgUE/edit?usp=sharing)

### How to use

1. **Clone this repository**
2. **Open `index.html` in the browser**  
   _Or deploy to GitHub Pages/Netlify for online access_
3. **Set up "admin" in spreadsheet manually if needed**
   - The very first registered user can be admin, or you can edit the spreadsheet to change role/status any time.
4. **Edit API key**  
   - Open `main.js` and insert your API URL (already filled for demo)
5. **Ready!** All questions and answers will synchronize in real time with your Google Sheet.

### Technologies

- JavaScript (Vanilla)
- HTML/CSS
- Google Sheets + [SheetDB.io](https://sheetdb.io/) (no own backend)

---

## –†—É—Å—Å–∫–∏–π

### –ß—Ç–æ —ç—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç?

**family-quiz** ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–í–æ–ø—Ä–æ—Å—ã-–û—Ç–≤–µ—Ç—ã" –¥–ª—è —Å–µ–º—å–∏, –∫–ª–∞—Å—Å–∞ –∏–ª–∏ –º–∞–ª–æ–≥–æ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–∞.  
–í—Å–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã –∏ –æ—Ü–µ–Ω–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Google –¢–∞–±–ª–∏—Ü–µ —á–µ—Ä–µ–∑ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API —Å–µ—Ä–≤–∏—Å–∞ SheetDB.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–æ–ª–∏: –≥–æ—Å—Ç—å, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∞–¥–º–∏–Ω
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
- –û—Ü–µ–Ω–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä—è–º–æ –≤ Google-—Ç–∞–±–ª–∏—Ü–µ
- 100% —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–æ–≤

### –í–∞–∂–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **SheetDB API**:  
  [https://sheetdb.io/api/v1/jmjjg8jhv0yvi](https://sheetdb.io/api/v1/jmjjg8jhv0yvi)
- **Google –¢–∞–±–ª–∏—Ü–∞**:  
  [https://docs.google.com/spreadsheets/d/1S9nJ_rhan9L88bxMi6wRUip2xr7r0eraZ5nacRFfgUE/edit?usp=sharing](https://docs.google.com/spreadsheets/d/1S9nJ_rhan9L88bxMi6wRUip2xr7r0eraZ5nacRFfgUE/edit?usp=sharing)

### –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
2. **–û—Ç–∫—Ä–æ–π—Ç–µ `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ**  
   _–∏–ª–∏ —Å—Ä–∞–∑—É —Ä–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Å–∞–π—Ç –Ω–∞ GitHub Pages, Netlify, Vercel ‚Äî –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"_
3. **–ù–∞–∑–Ω–∞—á—å—Ç–µ –∞–¥–º–∏–Ω–∞**  
   - –ü–µ—Ä–≤—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "admin" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ª–∏–±–æ –∏–∑–º–µ–Ω–∏—Ç–µ —Ä–æ–ª—å –≤ —Ç–∞–±–ª–∏—Ü–µ –≤—Ä—É—á–Ω—É—é.
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API-–∫–ª—é—á**  
   - –í `main.js` –≤—Å—Ç–∞–≤—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π SheetDB API (—É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–ª—è –¥–µ–º–æ)
5. **–ì–æ—Ç–æ–≤–æ!** –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã, –æ—Ü–µ–Ω–∫–∏ —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–∑ –≥—É–≥–ª-—Ç–∞–±–ª–∏—Ü—ã.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- –ß–∏—Å—Ç—ã–π JavaScript
- HTML/CSS
- Google –¢–∞–±–ª–∏—Ü—ã + SheetDB (API)

---

## Security & Privacy

All data you input (accounts, questions, answers) is stored in the provided Google Spreadsheet.  
API and spreadsheet IDs are visible to users ‚Äî do not store sensitive data!

---

## Quick demo setup

1. Use the provided spreadsheet and API or create your own copy in Google Sheets and SheetDB.
2. Clone or fork this repo.
3. Open `index.html` (or deploy).
4. You are ready to quiz!


## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google-—Ç–∞–±–ª–∏—Ü—ã (Data Model)

| –õ–∏—Å—Ç         | –°—Ç–æ–ª–±—Ü—ã                                               |
|--------------|-------------------------------------------------------|
| `users`      | id, login, password, reg_date, status (–≥–æ—Å—Ç—å/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–∞–¥–º–∏–Ω) |
| `questions`  | id, author_id, question, date, tags                   |
| `answers`    | id, question_id, author_id, answer, date              |
| `ratings`    | id, answer_id, author_id, rating (-2..2), date        |

**–ú–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∏ –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ü–µ–Ω–∫–∏ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏ –≤ Google –¢–∞–±–ª–∏—Ü–µ.**


---

## üìä Google Spreadsheet Structure (Data Model)
All app data is stored in a Google Spreadsheet.  
There are **4 sheets** with the following columns:

### **Sheet: `users`**
| Column      | Type   | Description                      |
|-------------|--------|----------------------------------|
| id          | HEX    | Unique user ID                   |
| login       | text   | Username/login                   |
| password    | text   | Password (default: 0000)         |
| reg_date    | date   | Registration date (ISO or local) |
| status      | text   | guest / user / admin             |

### **Sheet: `questions`**
| Column      | Type   | Description                      |
|-------------|--------|----------------------------------|
| id          | HEX    | Unique question ID               |
| author_id   | HEX    | Author's user ID                 |
| question    | text   | Question text                    |
| date        | date   | Date added                       |
| tags        | text   | Comma-separated tags             |

### **Sheet: `answers`**
| Column      | Type   | Description                      |
|-------------|--------|----------------------------------|
| id          | HEX    | Unique answer ID                 |
| question_id | HEX    | ID of question this answers      |
| author_id   | HEX    | Author's user ID                 |
| answer      | text   | Answer text                      |
| date        | date   | Date added                       |

### **Sheet: `ratings`**
| Column      | Type   | Description                      |
|-------------|--------|----------------------------------|
| id          | HEX    | Unique rating ID                 |
| answer_id   | HEX    | Rated answer's ID                |
| author_id   | HEX    | User ID (who rated)              |
| rating      | int    | Rating: -2, -1, 0, 1, 2          |
| date        | date   | Date of rating                   |

#### **Data Validation in Sheets**
- **users.status:** guest / user / admin (dropdown)
- **ratings.rating:** -2, -1, 0, 1, 2 (dropdown)


---


function createQuestionnaireSpreadsheet() {
  var ss = SpreadsheetApp.create("QA_Project");

  // ========== USERS ==========
  var usersSheet = ss.getActiveSheet();
  usersSheet.setName("users");
  usersSheet.appendRow([
    "id",         // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (HEX)
    "login",      // –õ–æ–≥–∏–Ω
    "password",   // –ü–∞—Ä–æ–ª—å (4 —Ü–∏—Ñ—Ä—ã)
    "reg_date",   // –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    "status"      // guest/user/admin
  ]);
  // –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
  var statusRule = SpreadsheetApp.newDataValidation()
    .requireValueInList(["–≥–æ—Å—Ç—å", "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å", "–∞–¥–º–∏–Ω"])
    .setAllowInvalid(false)
    .build();
  usersSheet.getRange("E2:E1000").setDataValidation(statusRule);

  // ========== QUESTIONS ==========
  var questionsSheet = ss.insertSheet("questions");
  questionsSheet.appendRow([
    "id",          // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (HEX)
    "author_id",   // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "question",    // –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞
    "date",        // –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
    "tags"         // –¢–µ–≥–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
  ]);

  // ========== ANSWERS ==========
  var answersSheet = ss.insertSheet("answers");
  answersSheet.appendRow([
    "id",            // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (HEX)
    "question_id",   // ID –≤–æ–ø—Ä–æ—Å–∞
    "author_id",     // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "answer",        // –¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
    "date"           // –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
  ]);

  // ========== RATINGS ==========
  var ratingsSheet = ss.insertSheet("ratings");
  ratingsSheet.appendRow([
    "id",          // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (HEX)
    "answer_id",   // ID –æ—Ç–≤–µ—Ç–∞
    "author_id",   // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫—Ç–æ –æ—Ü–µ–Ω–∏–≤–∞–ª
    "rating",      // –û—Ü–µ–Ω–∫–∞: -2, -1, 0, 1, 2
    "date"         // –î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏
  ]);
  // –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ (rating)
  var ratingRule = SpreadsheetApp.newDataValidation()
    .requireValueInList(["-2", "-1", "0", "1", "2"])
    .setAllowInvalid(false)
    .build();
  ratingsSheet.getRange("D2:D1000").setDataValidation(ratingRule);

  // –í –ª–æ–≥ ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∞–±–ª–∏—Ü—É
  Logger.log("–¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞: " + ss.getUrl());
  SpreadsheetApp.setActiveSpreadsheet(ss);
}

---

_License: MIT_
